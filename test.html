<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adaptive Toast Notification</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 flex flex-col items-center justify-center min-h-screen p-4">
    <button id="showShortToast" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-4">
        Show Short Toast
    </button>
    <button id="showLongToast" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">
        Show Long Toast
    </button>

    <div id="toastContainer" class="fixed top-4 right-4 z-50 flex flex-col items-end"></div>

    <script>
        function showToast(message, duration = 5000, type = 'info') {
            const toastContainer = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = 'bg-white text-white p-4 rounded-lg shadow-lg mb-4 transition-all duration-300 ease-in-out transform translate-x-full opacity-0 max-w-[90vw]';
            toast.style.width = 'max-content';
            toast.innerHTML =
                `<div class="text-sm font-medium text-gray-900">
                <div class="flex items-start">
                    <div class="flex-shrink-0 pt-0.5">
                        ${getToastIcon(type)}
                    </div>
                    <div class="ml-3 flex-1 ">
                        <p class="text-sm font-medium text-gray-900" title="${message}">
                           ${message}
                        </p>
                    </div>
                </div>
            </div>
            `;

            toastContainer.appendChild(toast);

            toast.offsetHeight;

            toast.classList.remove('translate-x-full', 'opacity-0');

            const maxWidth = Math.min(400, toast.offsetWidth);
            toast.style.width = `${maxWidth}px`;

            setTimeout(() => {
                toast.classList.add('translate-x-full', 'opacity-0');
                setTimeout(() => {
                    toastContainer.removeChild(toast);
                }, 300);
            }, duration);
        }
        function getToastTypeClass(type) {
            switch (type) {
                case 'error':
                    return 'bg-red-50';
                case 'success':
                    return 'bg-green-50';
                default:
                    return 'bg-blue-50';
            }
        }

        function getToastIcon(type) {
            switch (type) {
                case 'error':
                    return '<svg class="h-6 w-6 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>';
                case 'success':
                    return '<svg class="h-6 w-6 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>';
                default:
                    return '<svg class="h-6 w-6 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>';
            }
        }
        document.getElementById('showShortToast').addEventListener('click', () => {
            showToast('Short message.');
        });

        document.getElementById('showLongToast').addEventListener('click', () => {
            showToast('This is a much longer toast message that demonstrates how the toast adapts to content length without overflowing. It should wrap nicely within the container.');
        });
    </script>
</body>

</html>